!function($){"use strict";var a={};a.fileapi=void 0!==$("<input type='file'/>").get(0).files,a.formdata=void 0!==window.FormData;var b=!!$.fn.prop;function c(a){var b=a.data;a.isDefaultPrevented()||(a.preventDefault(),$(this).ajaxSubmit(b))}function d(a){var c=a.target,d=$(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var b=this;if(b.clk=c,"image"==c.type){if(void 0!==a.offsetX)b.clk_x=a.offsetX,b.clk_y=a.offsetY;else if("function"==typeof $.fn.offset){var f=d.offset();b.clk_x=a.pageX-f.left,b.clk_y=a.pageY-f.top}else b.clk_x=a.pageX-c.offsetLeft,b.clk_y=a.pageY-c.offsetTop}setTimeout(function(){b.clk=b.clk_x=b.clk_y=null},100)}function e(){if($.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}$.fn.attr2=function(){if(!b)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},$.fn.ajaxSubmit=function(c){if(!this.length)return e("ajaxSubmit: skipping submit process - no element selected"),this;var l,q,r,d,m=this;"function"==typeof c&&(c={success:c}),q=this.attr2("method"),(d=(d="string"==typeof(r=this.attr2("action"))?$.trim(r):"")||window.location.href||"")&&(d=(d.match(/^([^#]+)/)||[])[1]),c=$.extend(!0,{url:d,success:$.ajaxSettings.success,type:q||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);var h={};if(this.trigger("form-pre-serialize",[this,c,h]),h.veto)return e("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&& !1===c.beforeSerialize(this,c))return e("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var i=c.traditional;void 0===i&&(i=$.ajaxSettings.traditional);var j,n=[],f=this.formToArray(c.semantic,n);if(c.data&&(c.extraData=c.data,j=$.param(c.data,i)),c.beforeSubmit&& !1===c.beforeSubmit(f,this,c))return e("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,c,h]),h.veto)return e("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=$.param(f,i);j&&(g=g?g+"&"+j:j),"GET"==c.type.toUpperCase()?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+g,c.data=null):c.data=g;var k=[];if(c.resetForm&&k.push(function(){m.resetForm()}),c.clearForm&&k.push(function(){m.clearForm(c.includeHidden)}),!c.dataType&&c.target){var v=c.success||function(){};k.push(function(a){var b=c.replaceTarget?"replaceWith":"html";$(c.target)[b](a).each(v,arguments)})}else c.success&&k.push(c.success);c.success=function(b,d,e){for(var f=c.context||this,a=0,g=k.length;a<g;a++)k[a].apply(f,[b,d,e||m,m])};var s=$('input[type=file]:enabled[value!=""]',this).length>0,t="multipart/form-data",u=m.attr("enctype")==t||m.attr("encoding")==t,o=a.fileapi&&a.formdata;e("fileAPI :"+o),!1!==c.iframe&&(c.iframe||(s||u)&&!o)?c.closeKeepAlive?$.get(c.closeKeepAlive,function(){l=w(f)}):l=w(f):l=(s||u)&&o?function(e){for(var f=new FormData,a=0;a<e.length;a++)f.append(e[a].name,e[a].value);if(c.extraData){var d=function(e){var a,c,b=$.param(e).split("&"),f=b.length,d=[];for(a=0;a<f;a++)b[a]=b[a].replace(/\+/g," "),c=b[a].split("="),d.push([decodeURIComponent(c[0]),decodeURIComponent(c[1])]);return d}(c.extraData);for(a=0;a<d.length;a++)d[a]&&f.append(d[a][0],d[a][1])}c.data=null;var b=$.extend(!0,{},$.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:q||"POST"});c.uploadProgress&&(b.xhr=function(){var a=jQuery.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(a){var b=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(b=Math.ceil(d/e*100)),c.uploadProgress(a,d,e,b)},!1),a}),b.data=null;var g=b.beforeSend;return b.beforeSend=function(b,a){a.data=f,g&&g.call(this,b,a)},$.ajax(b)}(f):$.ajax(c),m.removeData("jqxhr").data("jqxhr",l);for(var p=0;p<n.length;p++)n[p]=null;return this.trigger("form-submit-notify",[this,c]),this;function w(u){var l,h,a,p,i,j,v,k,f,d,w,x,o=m[0],g=$.Deferred();if(u)for(h=0;h<n.length;h++)l=$(n[h]),b?l.prop("disabled",!1):l.removeAttr("disabled");if((a=$.extend(!0,{},$.ajaxSettings,c)).context=a.context||a,i="jqFormIO"+new Date().getTime(),a.iframeTarget?(d=(j=$(a.iframeTarget)).attr2("name"))?i=d:j.attr2("name",i):(j=$('<iframe name="'+i+'" src="'+a.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),v=j[0],k={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(c){var b="timeout"===c?"timeout":"aborted";e("aborting upload... "+b),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(d){}j.attr("src",a.iframeSrc),k.error=b,a.error&&a.error.call(a.context,k,b,c),p&&$.event.trigger("ajaxError",[k,a,b]),a.complete&&a.complete.call(a.context,k,b)}},(p=a.global)&&0==$.active++&&$.event.trigger("ajaxStart"),p&&$.event.trigger("ajaxSend",[k,a]),a.beforeSend&& !1===a.beforeSend.call(a.context,k,a))return a.global&&$.active--,g.reject(),g;if(k.aborted)return g.reject(),g;function y(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){e("cannot get iframe.contentWindow document: "+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(d){e("cannot get iframe.contentDocument: "+d),b=a.document}return b}(f=o.clk)&&(d=f.name)&&!f.disabled&&(a.extraData=a.extraData||{},a.extraData[d]=f.value,"image"==f.type&&(a.extraData[d+".x"]=o.clk_x,a.extraData[d+".y"]=o.clk_y));var r=$("meta[name=csrf-token]").attr("content"),s=$("meta[name=csrf-param]").attr("content");function t(){var d=m.attr2("target"),f=m.attr2("action");function g(){try{var a=y(v).readyState;e("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(g,50)}catch(b){e("Server abort: ",b," (",b.name,")"),D(2),x&&clearTimeout(x),x=void 0}}o.setAttribute("target",i),q||o.setAttribute("method","POST"),f!=a.url&&o.setAttribute("action",a.url),!a.skipEncodingOverride&&(!q||/post/i.test(q))&&m.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),a.timeout&&(x=setTimeout(function(){w=!0,D(1)},a.timeout));var c=[];try{if(a.extraData)for(var b in a.extraData)a.extraData.hasOwnProperty(b)&&($.isPlainObject(a.extraData[b])&&a.extraData[b].hasOwnProperty("name")&&a.extraData[b].hasOwnProperty("value")?c.push($('<input type="hidden" name="'+a.extraData[b].name+'">').val(a.extraData[b].value).appendTo(o)[0]):c.push($('<input type="hidden" name="'+b+'">').val(a.extraData[b]).appendTo(o)[0]));a.iframeTarget||(j.appendTo("body"),v.attachEvent?v.attachEvent("onload",D):v.addEventListener("load",D,!1)),setTimeout(g,15);try{o.submit()}catch(h){document.createElement("form").submit.apply(o)}}finally{o.setAttribute("action",f),d?o.setAttribute("target",d):m.removeAttr("target"),$(c).remove()}}s&&r&&(a.extraData=a.extraData||{},a.extraData[s]=r),a.forceSync?t():setTimeout(t,10);var z,A,B,C=50;function D(l){if(!k.aborted&&!B){if((A=y(v))||(e("cannot access response document"),l=2),1===l&&k){k.abort("timeout"),g.reject(k,"timeout");return}if(2==l&&k){k.abort("server abort"),g.reject(k,"error","server abort");return}if(A&&A.location.href!=a.iframeSrc||w){v.detachEvent?v.detachEvent("onload",D):v.removeEventListener("load",D,!1);var c,b="success";try{if(w)throw"timeout";var m="xml"==a.dataType||A.XMLDocument||$.isXMLDoc(A);if(e("isXml="+m),!m&&window.opera&&(null===A.body||!A.body.innerHTML)&& --C){e("requeing onLoad callback, DOM not available"),setTimeout(D,250);return}var d=A.body?A.body:A.documentElement;k.responseText=d?d.innerHTML:null,k.responseXML=A.XMLDocument?A.XMLDocument:A,m&&(a.dataType="xml"),k.getResponseHeader=function(b){return({"content-type":a.dataType})[b]},d&&(k.status=Number(d.getAttribute("status"))||k.status,k.statusText=d.getAttribute("statusText")||k.statusText);var n=(a.dataType||"").toLowerCase(),o=/(json|script|text)/.test(n);if(o||a.textarea){var f=A.getElementsByTagName("textarea")[0];if(f)k.responseText=f.value,k.status=Number(f.getAttribute("status"))||k.status,k.statusText=f.getAttribute("statusText")||k.statusText;else if(o){var h=A.getElementsByTagName("pre")[0],i=A.getElementsByTagName("body")[0];h?k.responseText=h.textContent?h.textContent:h.innerText:i&&(k.responseText=i.textContent?i.textContent:i.innerText)}}else"xml"==n&&!k.responseXML&&k.responseText&&(k.responseXML=E(k.responseText));try{z=G(k,n,a)}catch(r){b="parsererror",k.error=c=r||b}}catch(q){e("error caught: ",q),b="error",k.error=c=q||b}k.aborted&&(e("upload aborted"),b=null),k.status&&(b=k.status>=200&&k.status<300||304===k.status?"success":"error"),"success"===b?(a.success&&a.success.call(a.context,z,"success",k),g.resolve(k.responseText,"success",k),p&&$.event.trigger("ajaxSuccess",[k,a])):b&&(void 0===c&&(c=k.statusText),a.error&&a.error.call(a.context,k,b,c),g.reject(k,"error",c),p&&$.event.trigger("ajaxError",[k,a,c])),p&&$.event.trigger("ajaxComplete",[k,a]),!p|| --$.active||$.event.trigger("ajaxStop"),a.complete&&a.complete.call(a.context,k,b),B=!0,a.timeout&&clearTimeout(x),setTimeout(function(){a.iframeTarget||j.remove(),k.responseXML=null},100)}}}var E=$.parseXML||function(b,a){return window.ActiveXObject?((a=new ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(b)):a=new DOMParser().parseFromString(b,"text/xml"),a&&a.documentElement&&"parsererror"!=a.documentElement.nodeName?a:null},F=$.parseJSON||function(a){return window.eval("("+a+")")},G=function(c,b,d){var e=c.getResponseHeader("content-type")||"",f="xml"===b|| !b&&e.indexOf("xml")>=0,a=f?c.responseXML:c.responseText;return f&&"parsererror"===a.documentElement.nodeName&&$.error&&$.error("parsererror"),d&&d.dataFilter&&(a=d.dataFilter(a,b)),"string"==typeof a&&("json"===b|| !b&&e.indexOf("json")>=0?a=F(a):("script"===b|| !b&&e.indexOf("javascript")>=0)&&$.globalEval(a)),a};return g}},$.fn.ajaxForm=function(a){if((a=a||{}).delegation=a.delegation&&$.isFunction($.fn.on),!a.delegation&&0===this.length){var b={s:this.selector,c:this.context};return!$.isReady&&b.s?(e("DOM not ready, queuing ajaxForm"),$(function(){$(b.s,b.c).ajaxForm(a)}),this):(e("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)")),this)}return a.delegation?($(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,d).on("submit.form-plugin",this.selector,a,c).on("click.form-plugin",this.selector,a,d),this):this.ajaxFormUnbind().bind("submit.form-plugin",a,c).bind("click.form-plugin",a,d)},$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},$.fn.formToArray=function(j,g){var i,f,c,h,b,n,o,d=[];if(0===this.length)return d;var e=this[0],k=j?e.getElementsByTagName("*"):e.elements;if(!k)return d;for(i=0,n=k.length;i<n;i++)if((c=(b=k[i]).name)&&!b.disabled){if(j&&e.clk&&"image"==b.type){e.clk==b&&(d.push({name:c,value:$(b).val(),type:b.type}),d.push({name:c+".x",value:e.clk_x},{name:c+".y",value:e.clk_y}));continue}if((h=$.fieldValue(b,!0))&&h.constructor==Array)for(g&&g.push(b),f=0,o=h.length;f<o;f++)d.push({name:c,value:h[f]});else if(a.fileapi&&"file"==b.type){g&&g.push(b);var l=b.files;if(l.length)for(f=0;f<l.length;f++)d.push({name:c,value:l[f],type:b.type});else d.push({name:c,value:"",type:b.type})}else null!=h&&(g&&g.push(b),d.push({name:c,value:h,type:b.type,required:b.required}))}if(!j&&e.clk){var p=$(e.clk),m=p[0];(c=m.name)&&!m.disabled&&"image"==m.type&&(d.push({name:c,value:p.val()}),d.push({name:c+".x",value:e.clk_x},{name:c+".y",value:e.clk_y}))}return d},$.fn.formSerialize=function(a){return $.param(this.formToArray(a))},$.fn.fieldSerialize=function(b){var a=[];return this.each(function(){var e=this.name;if(e){var c=$.fieldValue(this,b);if(c&&c.constructor==Array)for(var d=0,f=c.length;d<f;d++)a.push({name:e,value:c[d]});else null!=c&&a.push({name:this.name,value:c})}}),$.param(a)},$.fn.fieldValue=function(d){for(var b=[],c=0,e=this.length;c<e;c++){var f=this[c],a=$.fieldValue(f,d);null!=a&&(a.constructor!=Array||a.length)&&(a.constructor==Array?$.merge(b,a):b.push(a))}return b},$.fieldValue=function(a,e){var l=a.name,b=a.type,i=a.tagName.toLowerCase();if(void 0===e&&(e=!0),e&&(!l||a.disabled||"reset"==b||"button"==b||("checkbox"==b||"radio"==b)&&!a.checked||("submit"==b||"image"==b)&&a.form&&a.form.clk!=a||"select"==i&& -1==a.selectedIndex))return null;if("select"==i){var f=a.selectedIndex;if(f<0)return null;for(var j=[],k=a.options,g="select-one"==b,m=g?f+1:k.length,h=g?f:0;h<m;h++){var c=k[h];if(c.selected){var d=c.value;if(d||(d=c.attributes&&c.attributes.value&&!c.attributes.value.specified?c.text:c.value),g)return d;j.push(d)}}return j}return $(a).val()},$.fn.clearForm=function(a){return this.each(function(){$("input,select,textarea",this).clearFields(a)})},$.fn.clearFields=$.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,d=this.tagName.toLowerCase();b.test(c)||"textarea"==d?this.value="":"checkbox"==c||"radio"==c?this.checked=!1:"select"==d?this.selectedIndex=-1:"file"==c?/MSIE/.test(navigator.userAgent)?$(this).replaceWith($(this).clone(!0)):$(this).val(""):a&&(!0===a&&/hidden/.test(c)||"string"==typeof a&&$(this).is(a))&&(this.value="")})},$.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})},$.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},$.fn.selected=function(a){return void 0===a&&(a=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=a;else if("option"==this.tagName.toLowerCase()){var b=$(this).parent("select");a&&b[0]&&"select-one"==b[0].type&&b.find("option").selected(!1),this.selected=a}})},$.fn.ajaxSubmit.debug=!1}(jQuery)