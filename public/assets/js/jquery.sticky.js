!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function($){var d=Array.prototype.slice,e=Array.prototype.splice,f={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},c=$(window),g=$(document),h=[],i=c.height(),a=function(){for(var e=c.scrollTop(),j=g.height(),k=j-i,l=e>k?k-e:0,f=0,n=h.length;f<n;f++){var a=h[f],o=a.stickyWrapper.offset().top-a.topSpacing-l;if(a.stickyWrapper.css("height",a.stickyElement.outerHeight()),e<=o)null!==a.currentTop&&(a.stickyElement.css({width:"",position:"",top:"","z-index":""}),a.stickyElement.parent().removeClass(a.className),a.stickyElement.trigger("sticky-end",[a]),a.currentTop=null);else{var d,b=j-a.stickyElement.outerHeight()-a.topSpacing-a.bottomSpacing-e-l;b<0?b+=a.topSpacing:b=a.topSpacing,a.currentTop!==b&&(a.getWidthFrom?(padding=a.stickyElement.innerWidth()-a.stickyElement.width(),d=$(a.getWidthFrom).width()-padding||null):a.widthFromWrapper&&(d=a.stickyWrapper.width()),null==d&&(d=a.stickyElement.width()),a.stickyElement.css("width",d).css("position","fixed").css("top",b).css("z-index",a.zIndex),a.stickyElement.parent().addClass(a.className),null===a.currentTop?a.stickyElement.trigger("sticky-start",[a]):a.stickyElement.trigger("sticky-update",[a]),a.currentTop===a.topSpacing&&a.currentTop>b||null===a.currentTop&&b<a.topSpacing?a.stickyElement.trigger("sticky-bottom-reached",[a]):null!==a.currentTop&&b===a.topSpacing&&a.currentTop<b&&a.stickyElement.trigger("sticky-bottom-unreached",[a]),a.currentTop=b);var m=a.stickyWrapper.parent();a.stickyElement.offset().top+a.stickyElement.outerHeight()>=m.offset().top+m.outerHeight()&&a.stickyElement.offset().top<=a.topSpacing?a.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):a.stickyElement.css("position","fixed").css("top",b).css("bottom","").css("z-index",a.zIndex)}}},b=function(){i=c.height();for(var d=0,e=h.length;d<e;d++){var a=h[d],b=null;a.getWidthFrom?a.responsiveWidth&&(b=$(a.getWidthFrom).width()):a.widthFromWrapper&&(b=a.stickyWrapper.width()),null!=b&&a.stickyElement.css("width",b)}},j={init:function(a){return this.each(function(){var c=$.extend({},f,a),b=$(this),d=b.attr("id"),g=d?d+"-"+f.wrapperClassName:f.wrapperClassName,i=$("<div></div>").attr("id",g).addClass(c.wrapperClassName);b.wrapAll(function(){if(0==$(this).parent("#"+g).length)return i});var e=b.parent();c.center&&e.css({width:b.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===b.css("float")&&b.css({float:"none"}).parent().css({float:"right"}),c.stickyElement=b,c.stickyWrapper=e,c.currentTop=null,h.push(c),j.setWrapperHeight(this),j.setupChangeListeners(this)})},setWrapperHeight:function(c){var a=$(c),b=a.parent();b&&b.css("height",a.outerHeight())},setupChangeListeners:function(a){window.MutationObserver?new window.MutationObserver(function(b){(b[0].addedNodes.length||b[0].removedNodes.length)&&j.setWrapperHeight(a)}).observe(a,{subtree:!0,childList:!0}):window.addEventListener?(a.addEventListener("DOMNodeInserted",function(){j.setWrapperHeight(a)},!1),a.addEventListener("DOMNodeRemoved",function(){j.setWrapperHeight(a)},!1)):window.attachEvent&&(a.attachEvent("onDOMNodeInserted",function(){j.setWrapperHeight(a)}),a.attachEvent("onDOMNodeRemoved",function(){j.setWrapperHeight(a)}))},update:a,unstick:function(a){return this.each(function(){for(var b=$(this),c=-1,a=h.length;a-- >0;)h[a].stickyElement.get(0)===this&&(e.call(h,a,1),c=a);-1!==c&&(b.unwrap(),b.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",a,!1),window.addEventListener("resize",b,!1)):window.attachEvent&&(window.attachEvent("onscroll",a),window.attachEvent("onresize",b)),$.fn.sticky=function(a){return j[a]?j[a].apply(this,d.call(arguments,1)):"object"!=typeof a&&a?void $.error("Method "+a+" does not exist on jQuery.sticky"):j.init.apply(this,arguments)},$.fn.unstick=function(a){return j[a]?j[a].apply(this,d.call(arguments,1)):"object"!=typeof a&&a?void $.error("Method "+a+" does not exist on jQuery.sticky"):j.unstick.apply(this,arguments)},$(function(){setTimeout(a,0)})})